---
title: "PostgreSQL replication/backup+restore with IPv6-only"
author: "Philipp BÃ¼hler, sysfive.com GmbH"
date: 'hack4glarus - Diesbach - Jul, 9th, 2023'
format:
  revealjs:
    theme: [league, style.scss]
    menu: true
    slide-number: true
    preview-links: auto
    show-slide-number: speaker
    slide-tone: false
    transition: fade
    transition-speed: slow
    background-transition: convex
    footer: "hack4glarus 2023 - Diesbach - pgsql/IPv6"
    logo: img/sysfive.jpg
---
## What's ahead

:::: {.columns}
::: {.column width="50%"}

### Infrastructure
### Debian IPv6
### PostgreSQL setup
### Replication: Streaming
### Replication: WAL shipping
### Backup/Restore
### Status + Outlook
:::
::: {.column width="50%"}

- smtp: pb@sysfive.com
- twitter: pb_double  ; mastodon: double_p
- matrix/irc: double-p
:::
::::

<!-- Page -->
## Infrastructure
Network

  - one prefix only: 2a0a:e5c0:2:12::/64
  - routed between nodes wont matter (FLW)

VM: 1 vCPU; 4GB RAM; 10GB disk

  - `pg1` Data/Clusternode
  - `pg2` Data/Clusternode
  - `pg3` Data/Clusternode
  - `bm0` Backup / Datasink

Everything ansible powered
<!-- Page -->
## Debian IPv6 watch out
n/a
<!-- Page -->
## PostgreSQL setup

- postgresql-14
- barman (bm0)
- repmgr (pgX)

<!-- Page -->
## Replication: Streaming
<!-- Page -->
## Replication: WAL shipping


<!-- Page -->
## Backup/Restore (ssh forth/back)
- ssh: barman@bm0 -> postgres@pgX 
- postgres@pgX -> barman@bm0

<!-- Page -->
## Questions & Cheers
- https://github.com/double-p/ pgSQLv6-testing

Thanks to:
- ungleich.ch
- sysfive.com GmbH

- QUESTIONS
- Meet: next time! ..and today til 15:xx

Created with `Quarto / revealjs`  
[presentation (+testing-config)](https://github.com/double-p/)

